@tailwind base;
@tailwind components;
@tailwind utilities;

/* Animación para modal móvil */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

@layer base {
  :root {
    --font-inter: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  * {
    @apply border-neutral-200;
  }

  body {
    @apply bg-white text-neutral-900;
    font-family: var(--font-inter);
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-neutral-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-400;
  }
}

@layer utilities {
  /* Custom animations */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.5s ease-out;
  }

  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Safe area for mobile bottom navigation */
  .safe-area-bottom {
    padding-bottom: max(12px, env(safe-area-inset-bottom));
  }

  /* Touch optimization */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Smooth scrolling for mobile */
  .overscroll-contain {
    overscroll-behavior: contain;
  }

  /* Support for dynamic viewport units (dvh, dvw) */
  @supports (height: 100dvh) {
    .mobile-full-height {
      height: 100dvh !important;
      max-height: 100dvh !important;
    }
  }

  /* Fallback for browsers without dvh support */
  @supports not (height: 100dvh) {
    .mobile-full-height {
      height: 100vh !important;
      max-height: 100vh !important;
    }
  }
  
  /* iOS keyboard handling - prevent page scroll when keyboard opens */
  @supports (-webkit-touch-callout: none) {
    /* iOS only */
    .mobile-chat-container {
      position: fixed;
      width: 100%;
      height: 100dvh;
      overflow: hidden;
    }
  }
  
  /* Prevent rubber-band scrolling on iOS */
  .prevent-overscroll {
    overscroll-behavior-y: none;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Android keyboard optimization */
  @media (max-width: 768px) {
    /* Ensure input is visible when keyboard opens */
    input:focus, textarea:focus {
      scroll-margin-bottom: 150px;
    }
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Loading spinner */
.spinner {
  border: 3px solid rgba(0, 200, 83, 0.1);
  border-top-color: #00C853;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ================================
   DARK MODE - SOLO ADMIN PANEL
   ================================ */

.dark-admin .dark-admin\:bg-slate-900 {
  background-color: #0f172a !important;
}

.dark-admin .dark-admin\:bg-slate-800 {
  background-color: #1e293b !important;
}

.dark-admin .dark-admin\:bg-slate-950 {
  background-color: #020617 !important;
}

.dark-admin .dark-admin\:bg-slate-700 {
  background-color: #334155 !important;
}

.dark-admin .dark-admin\:text-slate-100 {
  color: #f1f5f9 !important;
}

.dark-admin .dark-admin\:text-slate-300 {
  color: #cbd5e1 !important;
}

.dark-admin .dark-admin\:text-slate-400 {
  color: #94a3b8 !important;
}

.dark-admin .dark-admin\:border-slate-700 {
  border-color: #334155 !important;
}

.dark-admin .dark-admin\:hover\:bg-slate-800:hover {
  background-color: #1e293b !important;
}

.dark-admin .dark-admin\:hover\:bg-slate-700:hover {
  background-color: #334155 !important;
}

.dark-admin .dark-admin\:bg-green-900\/20 {
  background-color: rgba(20, 83, 45, 0.2) !important;
}

.dark-admin .dark-admin\:text-green-400 {
  color: #4ade80 !important;
}

.dark-admin .dark-admin\:bg-red-900\/20 {
  background-color: rgba(127, 29, 29, 0.2) !important;
}

.dark-admin .dark-admin\:text-red-400 {
  color: #f87171 !important;
}

.dark-admin .dark-admin\:hover\:bg-red-900\/30:hover {
  background-color: rgba(127, 29, 29, 0.3) !important;
}
